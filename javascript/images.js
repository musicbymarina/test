const data = [
{
		"name": "Daniel Avery",
		"type": "electro",
		"venue": "Peacock Society",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/12694544_1266530113380843_4985876799365095477_o.jpg?_nc_cat=0&oh=6f17468d494366a774cc6b9a22ae856b&oe=5C38C229",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/12513567_1266530373380817_5352358043785360024_o.jpg?_nc_cat=0&oh=6ba152bdd02c55c4aed6edde07a116e6&oe=5C29989F"
		]
	},
	{
		"name": "Charlotte Dewitte",
		"type": "electro",
		"venue": "Les Nuits Secretes",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20374318_1822810407752808_1877065120652995610_n.jpg?_nc_cat=104&oh=d9985f7381319e3125ed0eba35f92c58&oe=5C1C7C68"
		]
	}, {
		"name": "Future Islands",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20988142_1848119431888572_7853142409318929387_o.jpg?_nc_cat=109&oh=db31158cddf5338b7afa1a4e887f4de1&oe=5C58085B",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953274_1848117411888774_2632753822658262238_n.jpg?_nc_cat=107&oh=7f44d9e279400c155d8ffae778893c3f&oe=5C2BF455"
		]
	}, {
		"name": "Daniel Avery",
		"type": "electro",
		"venue": "Les Eurockeennes de Belfort",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/19983225_1804355029598346_115432396056039031_o.jpg?_nc_cat=101&oh=36baa63f11395dfa392e6823522354af&oe=5C5D8C0F",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20023964_1804355119598337_76681915083011696_o.jpg?_nc_cat=101&oh=91e03dd302c3121df543e31624c45f7a&oe=5C617BAE",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/19983711_1804355252931657_4480254019045170697_o.jpg?_nc_cat=108&oh=8e3287910abd7a637d326993bdc6cb03&oe=5C1ACB20"
		]
	},
	 {
		"name": "Soulwax",
		"type": "electro",
		"venue": "Les Eurockeennes de Belfort",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20116962_1804353762931806_311229293326606129_o.jpg?_nc_cat=109&oh=07821bdff6c2695e934963ad3c78a616&oe=5C61FD86",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/19983907_1804353689598480_6891517925522301163_o.jpg?_nc_cat=108&oh=8b95a95a08683e5a3cc1504f2567cc10&oe=5C1CD91E",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/19989242_1804353282931854_2578304558648092519_n.jpg?_nc_cat=109&oh=a959613cac1180ee2272c35a129f9376&oe=5C15AE5D",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20017476_1804353319598517_5237878963603977233_o.jpg?_nc_cat=100&oh=b32af9628fc9fed0363dac107d843107&oe=5C60B951",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20023906_1804353406265175_8796716457919785304_o.jpg?_nc_cat=105&oh=b63e598548c972ad071b4e471e93bd00&oe=5C1C1927",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20121598_1804353482931834_8810195983920818241_o.jpg?_nc_cat=100&oh=5009922c237c71a5b7456c9f52c0a9e3&oe=5C56476A",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20017762_1804353522931830_1369783493095418626_o.jpg?_nc_cat=103&oh=94d683dfbac8c950b99491774e0791a3&oe=5C63400F"
		]
	},
	{
		"name": "The Black Lips",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20992719_1848119938555188_875053328793085943_n.jpg?_nc_cat=110&oh=2b21651acbc8334edce5cf30dc143823&oe=5C1C7300"
		]
	},
	{
		"name": "Tale Of Us",
		"type": "electro",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953730_1848137035220145_5240297380175116851_n.jpg?_nc_cat=106&oh=025fa887688cde634be5c920cafaf01c&oe=5C555DF3",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/21055005_1848137348553447_7008999819805387696_o.jpg?_nc_cat=107&oh=324128c29442b721c471fac012af6a1f&oe=5C605B55"
		]
	},
	{
		"name": "Maceo Plex",
		"type": "electro",
		"venue": "La Machine du Moulin Rouge",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/22382265_1896246910409157_5529228962642450673_o.jpg?_nc_cat=101&oh=947f00335b7660d9e1bf7c3220e5f5ff&oe=5C1CB1A7",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/22459168_1896246913742490_963753968985645795_o.jpg?_nc_cat=105&oh=4ba6ebb095cb9707ad6dfc21b012b47b&oe=5C2BC1EC"
		]
	},
	{
		"name": "DJ Hell",
		"type": "electro",
		"venue": "France Culture radio with Busy P",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/18238536_1720664684634048_3682292693235675974_o.jpg?_nc_cat=109&oh=832b8b39aeec2fcfe41929a37398249a&oe=5C20D48E"
		]
	},
	{
		"name": "Andrew Weatherall and Sean Johnston (ALFOS)",
		"type": "electro",
		"venue": "Badaboum club",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/13268497_1354575337909653_3817655469017880834_o.jpg?_nc_cat=109&oh=b6a30db7c2024e3affb6aedcc9de7c56&oe=5C6319C5",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/13323317_1354573544576499_6497401619432996351_o.jpg?_nc_cat=104&oh=8e0f1b587ff51a70ed3a6b74e7c25c92&oe=5C1FB5BA",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/13268232_1354573324576521_8628060229601627751_o.jpg?_nc_cat=108&oh=43427cc292fdf0ca19baf16b51f6dfcc&oe=5C20C2A8"
		]
	},
	{
		"name": "Andrew Weatherall",
		"type": "electro",
		"venue": "Machine du Moulin Rouge",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/11875026_1163434270357095_7961119025596258426_o.jpg?_nc_cat=106&oh=0e2338d780b3542737529644c3bc810f&oe=5C5E8BAB",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/11145193_1163400997027089_1106042898997374326_o.jpg?_nc_cat=104&oh=3f9c15c4595abeb34572170a4722c910&oe=5C2896EC",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/11872305_1163394370361085_711304899324945322_o.jpg?_nc_cat=105&oh=9c8b8578cd29ecaf713c57241f35b039&oe=5C547AAB"
		]
	},
	{
		"name": "Andrew Weatherall and Sean Johnston (ALFOS)",
		"type": "electro",
		"venue": "Andrew Weatherall festival in Carcassonne",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/11893720_1163397603694095_5466678552479022794_o.jpg?_nc_cat=104&oh=74666eaa861b0bc2ff5bdd8ed1432e82&oe=5C284E7E"
		]
	},
	{
		"name": "Nina Kraviz",
		"type": "electro",
		"venue": "The Tribes festival",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/10401873_827273990639793_2492174799175675776_n.jpg?_nc_cat=105&oh=3710a3cd2a538b9801b9e91a49ab73eb&oe=5C59636E"
		]
	},
	{
		"name": "Erol Alkan",
		"type": "electro",
		"venue": "I Love Techno festival",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/1492737_700998713267322_859434998_o.jpg?_nc_cat=109&oh=31297e01ceacb418f7007014832d8711&oe=5C23FCE7"
		]
	},
	{
		"name": "Goldfrapp",
		"type": "rock",
		"venue": "Le Trianon",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/1450105_686013618099165_179827359_n.jpg?_nc_cat=102&oh=8168879b4e9949d7c51485d90c81d667&oe=5C22F45A"
		]
	},
	{
		"name": "Sisy Ey",
		"type": "electro",
		"venue": "Sonar festival",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/564689_740926912607835_644611150_n.jpg?_nc_cat=109&oh=e8a8f1391aada0351b29dfc95cc3afd0&oe=5C178E46",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/1909220_740926665941193_790709462_o.jpg?_nc_cat=108&oh=671bc7010f581ca8b13a3ac3efcfb0a5&oe=5C591C13"
		]
	},
	{
		"name": "Optimo",
		"type": "electro",
		"venue": "La Cite de la Mode",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/1467294_681826771851183_2081172392_n.jpg?_nc_cat=109&oh=c8f8ae66a18e90e34e941f84d7748570&oe=5C24025F"
		]
	},
	{
		"name": "Sebastien Tellier",
		"type": "rock",
		"venue": "Rock Island",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/1048781_609540369079824_94557295_o.jpg?_nc_cat=110&oh=3bec6a0a7d101cb7a3cb99edf7a63639&oe=5C20815C",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/1005590_609531965747331_1605835238_n.jpg?_nc_cat=103&oh=30d64544210105030aae547b2cf2267f&oe=5C24CA01"
		]
	},
	{
		"name": "Totally Enormous Extinct Dinosaurs (TEED)",
		"type": "electro",
		"venue": "Showcase",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/1888839_764353863598473_1992132639_o.jpg?_nc_cat=103&oh=0495bf997d50b322083e4d750ade90b0&oe=5C5654AA"
		]
	},
	{
		"name": "WhoMadeWho",
		"type": "rock",
		"venue": "Le Trabendo",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/891935_781438308556695_823055010578276049_o.jpg?_nc_cat=101&oh=8aa4448989e429f0454ad19bc451c573&oe=5C5596E8"
		]
	},
	{
		"name": "The Savages",
		"type": "rock",
		"venue": "La Gaite Lyrique",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/10153827_781862181847641_2278343077452192134_n.jpg?_nc_cat=100&oh=e25fe8281df72c8cde2c302399143f36&oe=5C2702D1",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/10247466_781861368514389_2866555725478156576_n.jpg?_nc_cat=110&oh=812e8df00e7bbf58c3109e03e9e4c256&oe=5C1F4114"
		]
	},
	{
		"name": "James Blake",
		"type": "electro",
		"venue": "Worldwide festival",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/11745940_1139284749438714_2014866442035201329_n.jpg?_nc_cat=104&oh=a7e951e1e3f37f63e3cc136c3aafb0e3&oe=5C1800EF"
		]
	},
	{
		"name": "Andrew Weatherall",
		"type": "electro",
		"venue": "Andrew Weatherall festival in Carcassonne",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/11874998_1163214867045702_4754276215341951137_o.jpg?_nc_cat=103&oh=8d1220988a34b449489080d6ba17833a&oe=5C1D20BD",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/11181564_1163412720359250_1912755138955807799_n.jpg?_nc_cat=109&oh=e9a9048496bd2d54f770d57139988947&oe=5C60F554"
		]
	},
	{
		"name": "Busy P",
		"type": "electro",
		"venue": "France Culture radio with DJ Hell",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/18238536_1720664684634048_3682292693235675974_o.jpg?_nc_cat=109&oh=832b8b39aeec2fcfe41929a37398249a&oe=5C20D48E"
		]
	},
	{
		"name": "Ty Segall",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/21034531_1848129308554251_3799297742902904146_n.jpg?_nc_cat=103&oh=9b3cd0dcdfedcb59a0c9090c476e516c&oe=5C18C83B",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953149_1848129641887551_7652735417763967610_n.jpg?_nc_cat=101&oh=7e283ac13b26d2074b49898e60515636&oe=5C629D11"
		]
	},
	{
		"name": "The Moonlandingz",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20989050_1848126815221167_9170648447692897966_o.jpg?_nc_cat=109&oh=503bd5bd38fc6fdb4112d7ef3b100274&oe=5C1AA5DD",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953541_1848127035221145_8297219656836242096_n.jpg?_nc_cat=102&oh=b790a323ffe338329fed67d73ee3c330&oe=5C21C43B",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953766_1848127835221065_2779536650542889960_n.jpg?_nc_cat=102&oh=0894be995d4a199790361b0421173d81&oe=5C2C2A87",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20993040_1848127528554429_7568548934685083589_n.jpg?_nc_cat=106&oh=3c542148d2e9c10405c3b68dd2346bad&oe=5C2023E6",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953820_1848128531887662_8652699055340737132_n.jpg?_nc_cat=110&oh=c771c626b6421a06697fde7a6e998508&oe=5C2B03B4"
		]
	},
	{
		"name": "Interpol",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953469_1848126461887869_6987525465866021951_n.jpg?_nc_cat=107&oh=905b0546d4fca3b51d2ad23ab74f06ac&oe=5C229D66",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/21077470_1848126198554562_56781583389725967_n.jpg?_nc_cat=104&oh=e93d8f7db3a18e66b119482cc29567ba&oe=5C57F296"
		]
	},
	{
		"name": "Soulwax",
		"type": "electro",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20989176_1848120858555096_620676218903706705_o.jpg?_nc_cat=103&oh=c47bedb50ceae3cb9b4045499a2b3bc7&oe=5C16A4B4",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953714_1848121161888399_970458208241424853_n.jpg?_nc_cat=109&oh=2e2b411d842cc23783c31b4ca365e434&oe=5C5E2530",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/21077283_1848121868554995_6734574894068029759_n.jpg?_nc_cat=104&oh=a5afdbeb1fba55d343a60afebe079694&oe=5C5B5C2B",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953436_1848122251888290_1504138566545507883_n.jpg?_nc_cat=109&oh=d204fa8289d933f25d4c9e208ff6cbe1&oe=5C15ED07",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/20989308_1848122968554885_2826476389731704418_o.jpg?_nc_cat=106&oh=a1c897c8c9c4f1e10504f7cf67edcf05&oe=5C1BECC9",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20993995_1848123211888194_673138721013648479_n.jpg?_nc_cat=104&oh=3a2f8884d71e3596b98b71ecd456c2e3&oe=5C5E05B0",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20953202_1848123745221474_7289341402195865649_n.jpg?_nc_cat=100&oh=0807c694a243ab043ed14fd750dadc3d&oe=5C2BDD7D"
		]
	},
	{
		"name": "The Black Lips",
		"type": "rock",
		"venue": "La Villette",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/23632116_1934358369931344_7426729873053806612_o.jpg?_nc_cat=0&oh=d4a0d3b0d6f8d877ed18660d1a1a1591&oe=5C34A018",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/23509258_1934358429931338_2292833924781772992_o.jpg?_nc_cat=0&oh=8367aa7bc48d97abc450e2989704f2e7&oe=5C2DB3F5",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/23517831_1934359216597926_5576395402958645362_n.jpg?_nc_cat=0&oh=74e9c6e16408ffe3d39ddb645a86918a&oe=5C1CF98E"
		]
	},
	{
		"name": "The Jesus and Mary Chain",
		"type": "rock",
		"venue": "La Route du Rock 2017",
		"photosPath": [
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t31.0-8/21054900_1848116595222189_3410498097011115445_o.jpg?_nc_cat=0&oh=ce3ef5832bc1d6f57ccf9ed94bda2d33&oe=5C2DD375",
		"https://scontent-cdg2-1.xx.fbcdn.net/v/t1.0-9/20992966_1848116818555500_4471541284690943894_n.jpg?_nc_cat=0&oh=610a4ddc733871437864844cb5c131d2&oe=5C1F6471"
	]
}
];

/**
Je crÃ©e une nouvelle liste pour rÃ©cupÃ©rer les photos des djs seulement
**/
const electroList = data.filter((photo) => {
	return photo.type === 'electro';
})

/**
Je crÃ©e une nouvelle liste pour rÃ©cupÃ©rer les photos des groupes de rock seulement
**/
const rockList = data.filter((photo) => {
	return photo.type === 'rock';
})

/*
Je cree un titre
*/
const creerTitre = (liste) =>{
	switch(liste) {
		case 'electroList':
		$('#titre').html('Photographer for DJs');
		break;
		
		case 'rockList':
		$('#titre').html('Photographer for Rock bands');
		break;
		
		default:
		$('#titre').html('Photographer');
	}
}


/**
Je montre les photos de la liste choisie dans le slider et le thumbnail en mÃªme temps
paramÃ¨tre: la liste
**/
const slider = $('#slider');
const thumbnail = $('#thumbnail');

function fetchPhotos(liste){
if(liste) {
	liste.map(artiste=> {
		artiste.photosPath.map((photo)=>{
			const content = 
			`<li>
				<figure style='box-shadow: 0 1px 1px rgba(0,0,0,0.15), 0 10px 0 -5px #eee, 0 10px 1px -4px rgba(0,0,0,0.15), 0 20px 0 -10px #eee, 0 20px 1px -9px rgba(0, 0, 0, 0.15); padding: 20px; background-color: white; border-radius: 25px 25px 0 0'>
					<img src='${photo}' alt='${artiste.name} at ${artiste.venue}' style='border: solid 1px #e8e6e6'>
					<figcaption>${artiste.name} at ${artiste.venue}</figcaption>
				</figure>
			</li>`;
		slider.prepend(content);
		thumbnail.prepend(content);
		});
	});
} else {
	console.warn('check si une liste apparait dans fetchPhotos');
}
// je ne montre que la premiÃ¨re image dans le slider, je cache les autres
const firstLiSlider = $('#slider li:first');
const autresLiSlider = $('#slider li:first ~li');
firstLiSlider.addClass('active');
autresLiSlider.addClass('hidden');

// j'arrange l'image du slider pour qu'elle soit au milieu
$('#slider').css({'margin': 'auto', 'list-style-type' : 'none'});

// je fais un effet avec le figcaption
$('#slider figcaption').fadeIn('slow');

// j'arrange la liste de mon thumbnail
$('#thumbnail').css({'margin': 'auto'});

// je calcule le width de chaque li selon la largeur de mon ul
if(thumbnail !== undefined) {
	console.log(thumbnail);
}

$('#thumbnail li').css({'margin': '5px', 'width': 'auto'});
$('#thumbnail figure').css({'margin': '1em'});
	
//je cache le figcaption du thumbnail
$('#thumbnail figcaption').hide();
$('#thumbnail figure').css({'box-shadow': 'none', 'padding':'0', 'background-color':'black'});

// Je crÃ©e mon titre
creerTitre(liste);
}

/* J'ajoute un border blanc dans le thumbnail qui correspond a la photo du slider
A chaque fois qu'une photo sera vue dans le slider, chaque photo vue aura ce border
Et je cache le figcaption dedans (pas esthetique)
(comme ca on sait celles qu'on a pas vu)
*/
const displayThumbnail = () =>{
	// je rÃ©cupÃ¨re l'index du li du slider qui est actif
	const indexSlider = $('#slider').find('li.active').index();
	
	// je rÃ©cupere le li du thumbnail qui a le meme index que le li du slider actif
	const thumbnailToDisplay = $('#thumbnail li')[indexSlider];
	thumbnailToDisplay.style.border = 'solid 5px white';
	
}


// Creer une promise pour ensuite fetcher par dÃ©faut toutes mes photos dans le slider et le thumbnail
const verifFetch = new Promise((resolve, reject) =>{

	if( slider.length > 0 && slider.length === thumbnail.length) {
		resolve('Photos remplis dans le slider et le thumbnail');
	} else {
		reject('Pas bien rempli, recheck ta fonction fetchPhotos meuf ');
	}
})

verifFetch.then(()=>{
fetchPhotos(data);
displayThumbnail();
}).catch((error)=>{
	console.warn('Check ton erreur dans la fonction fetchPhotos: ', error);
})

/* utile pour cacher la photo actuelle du slider
 quand je clique dans le thumbnail ou sur les boutons next/previous
 */
const cacherPhotoActuelleSlider = () => {
		$('#slider').find('.active').addClass('hidden');
		$('#slider').find('.active').removeClass('active');
}


/*
FONCTION POUR NETTOYER MES ANCIENNES PHOTOS DU SLIDER ET THUMBNAIL
Utile si je clique sur le bouton electro, rock et All
*/
const cleanMySlider = () =>{
	slider.html('');
	thumbnail.html('');
}

/*
SI JE CLIQUE SUR LE BOUTON NEXT DU SLIDER:
1/ Je montre dans le thumbnail (border blanc) la photo sÃ©lectionnÃ©e (+1) sauf si c'est la derniÃ¨re photo du thumbnail
2/ Je montre la photo correspondante dans le slider sauf si c'est la derniere toff du thumbnail
*/
const showNextOrPreviousPicture = (whichOne) => {
	// je rÃ©cupÃ¨re l'index de la photo actuellement active dans le slider
	const indexPhotoActive = $('#slider').find('.active').index();
	// Je prÃ©pare l'index de ma prochaine photo
	const indexProchainePhoto = indexPhotoActive + whichOne;
	// Je vÃ©rifie si c'est pas la derniere toff du thumbnail
	const longueurSlider = $('#thumbnail li').length;
	if(whichOne === 1 && indexProchainePhoto < longueurSlider) {
		cacherPhotoActuelleSlider();
		// je rÃ©cupÃ¨re la prochaine photo du slider et je la montre
		const prochainePhoto = $('#slider li')[indexProchainePhoto];
		prochainePhoto.classList.add('active');
		prochainePhoto.classList.remove('hidden');
		// je mets un border blanc sur la photo choisie dans le thumbnail
		displayThumbnail();
	} else if(whichOne === -1 && indexProchainePhoto >= 0) {
		cacherPhotoActuelleSlider();
		// je rÃ©cupÃ¨re la prochaine photo du slider et je la montre
		const prochainePhoto = $('#slider li')[indexProchainePhoto];
		prochainePhoto.classList.add('active');
		prochainePhoto.classList.remove('hidden');
		
		// je mets un border blanc sur la photo choisie dans le thumbnail
		displayThumbnail();
	}
	else {
		console.log('ceci etait la derniere toff du slider');
	}
}

$('.next span').on('click', () =>{
	showNextOrPreviousPicture(+1);
});

$('.previous span').on('click', () =>{
	showNextOrPreviousPicture(-1);
});



/*
SI JE CLIQUE SUR LA PHOTO dans le thumbnail:
1/ la photo correspondante doit avoir un border blanc
2/ l'index de la photo doit correspondre a l'index de la photo du slider pour etre concordant
parametre: event (pour rÃ©cupÃ©rer la zone choisie)
*/

const choosePhoto = (event) =>{
	const photoChoisie = $(event.target);
	console.log('la photo choisie est: ', photoChoisie);
	if(photoChoisie.is('li')) {
		// Je change le titre h2 par le figcaption de la photo
		const titrePhotoChoisie = photoChoisie.find('figcaption').html();
		$('#titre').html(`You chose to see ${titrePhotoChoisie}`);
		// je trouve l'index de ma photo choisie dans le thumbnail
		const indexPhotoChoisie = $('#thumbnail').find(photoChoisie).index();
		// je cache la photo actuelle du slider
		cacherPhotoActuelleSlider();
		// je rÃ©cupÃ¨re l'index de la photo du slider qui correspond a la photo choisie et je la montre
		const photoCorrespondante = $('#slider li')[indexPhotoChoisie];
		photoCorrespondante.classList.add('active');
		photoCorrespondante.classList.remove('hidden');
		// je mets un border blanc sur la photo choisie dans le thumbnail
		displayThumbnail();
	}
}

$('#thumbnail').click(choosePhoto);

const agrandirPhoto = () => {
	
/*SI JE CLIQUE SUR UNE PHOTO DU SLIDER :
- un modal s'ouvre
- dans le modal (modal-content), j'ai l'image en grand écran
- si je clique sur le close (.close), le modal se ferme
*/

$('#slider img').on('click', (event) => {
	$('.modal-content').html('');
	const image = $(event.target)
		console.log('the image is ', image);
		console.log('le src est ', image.src);
	
	
	
	$('html').addClass('force');
	$('.modal-content').html(`<span class="close">X</span>`);
	$(event.target).clone().appendTo('.modal-content');
	$('.modal-content img').css({'width':'100%'});
	$('#myModal').show();
	
	$('.close').on('click', () =>{
		$('#myModal').hide();
		$('html').removeClass('force');
});
	
});
	
}


// Tester si c'est parce que le DOM est loadé ou parce que j'ai déplacé les events listeners
$(function() {
    console.log("c'est loadé");
    agrandirPhoto();
  }); // fin function quand le DOM est loadé


/*
SI JE CLIQUE SUR LE BOUTON ELECTRO:
Je montre les photos correspondantes a ma liste dans le slider et thumbnail
*/
$('#electro').click(()=>{
	// je nettoie d'abord mon thumbnail et mon slider:
	cleanMySlider();
	// je montre les photos du slider et thumbnail correspondantes aux djs
	fetchPhotos(electroList);
	// je mets mon fameux border blanc sur le thumbnail
	displayThumbnail();
	agrandirPhoto();
});

/*
SI JE CLIQUE SUR LE BOUTON ROCK:
Je montre les photos correspondantes a ma liste dans le slider et thumbnail
*/
$('#rock').click(()=>{
	// je nettoie d'abord mon thumbnail et mon slider:
	cleanMySlider();
	// je montre les photos du slider et thumbnail correspondantes aux rock bands
	fetchPhotos(rockList);
	// je mets mon fameux border blanc sur le thumbnail
	displayThumbnail();
	agrandirPhoto();
});

/*
SI JE CLIQUE SUR LE BOUTON SHOW ALL:
Je montre toutes les photos dans le slider et thumbnail
*/
$('#all').click(()=>{
	// je nettoie d'abord mon thumbnail et mon slider:
	cleanMySlider();
	// je montre les photos du slider et thumbnail correspondantes aux djs
	fetchPhotos(data);
	// je mets mon fameux border blanc sur le thumbnail
	displayThumbnail();
	agrandirPhoto();
});
